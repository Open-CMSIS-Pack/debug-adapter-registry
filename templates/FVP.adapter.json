{
    "data": {
        "shell": {
            "win32": {
                "executable": "cmd.exe",
                "args": [ "/d", "/c" ]
            },
            "linux": {
                "executable": "/bin/bash",
                "args": [ "-c" ]
            },
            "darwin": {
                "executable": "/bin/bash",
                "args": [ "-c" ]
            }
        }
    },
    "tasks": [{
        "label": "CMSIS Load+Run",
        "type": "shell",
        "command": "<%= model %>",
        "options": {
            "cwd": "${workspaceFolder}/<%= solution_folder %>",
            "shell": "<%= data.shell[process.platform] %>"
        },
        "args": [
            "<% if (config['config-file']) { %>",
            "-f", "<%= config['config-file'] %>\n",
            "<% } %>",
            "<% if (Array.isArray(config.args) && config.args.length > 0) { %>",
            "<%= config.args.join('\\n') %>\n",
            "<% } %>",
            "<% else if (typeof config.args === 'string' && config.args.trim().length > 0) { %>",
            "<%= config.args.trim().split(/\\s+/).join('\\n') %>\n",
            "<% } %>",
            "<% const files = symbol_files.map(s => s.file) %>",
            "<% for (const file of files) { %>",
            "-a", "<%= file %>\n",
            "<% } %>"
        ],
        "problemMatcher": []
    }]
}
