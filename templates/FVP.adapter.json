{
    "data": {
        "shell": {
            "win32": {
                "executable": "cmd.exe",
                "args": [ "/d", "/c" ]
            },
            "linux": {
                "executable": "/bin/bash",
                "args": [ "-c" ]
            },
            "darwin": {
                "executable": "/bin/bash",
                "args": [ "-c" ]
            }
        }
    },
    "tasks": [{
        "label": "CMSIS Load+Run",
        "type": "shell",
        "command": "<% if (model === 'Other') { %><%= other_model %><% } else { %><%= model %><% } %>",
        "options": { "cwd": "${workspaceFolder}/<%= solution_folder %>" },
        "shell": "<%= data.shell[process.platform] %>",
        "args": [
            "<% if (conf_file) { %>",
            "-f", "<%= conf_file %>\n",
            "<% } %>",
            "<% if (simlimit) { %>",
            "--simlimit", "<%= simlimit %>\n",
            "<% } %>",
            "<% if (Array.isArray(args)) { %>",
            "<% for (const arg of args) { %>",
            "<%= arg %>",
            "<% } %>",
            "<% } %>",
            "<% else if (typeof args === 'string' && args.trim().length > 0) { %>",
            "<% for (const arg of args.trim().split(/\\s+/)) { %>",
            "<%= arg %>",
            "<% } %>",
            "<% } %>",
            "<% for (const image of symbol_files) { %>",
            "-a", "<%= image.file %>",
            "<% } %>"
        ],
        "problemMatcher": []
    }]
}
